"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[7990],{5352:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>l,contentTitle:()=>a,default:()=>d,frontMatter:()=>o,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"module1-ros2/lesson2","title":"Lesson 2: ROS 2 Publisher and Subscriber","description":"In this lesson, we will learn how to create a ROS 2 publisher and subscriber. This is the most common way for nodes to communicate in ROS 2.","source":"@site/docs/module1-ros2/lesson2.md","sourceDirName":"module1-ros2","slug":"/module1-ros2/lesson2","permalink":"/hackathone-physical-AI-humonoid-robtics--Book/book/module1-ros2/lesson2","draft":false,"unlisted":false,"editUrl":"https://github.com/SaimaWaheed-Student/hackathone-physical-AI-humonoid-robtics--Book/tree/main/website/docs/module1-ros2/lesson2.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"bookSidebar","previous":{"title":"Lesson 1: Introduction to ROS 2","permalink":"/hackathone-physical-AI-humonoid-robtics--Book/book/module1-ros2/lesson1"},"next":{"title":"Lesson 3: ROS 2 Services and Actions","permalink":"/hackathone-physical-AI-humonoid-robtics--Book/book/module1-ros2/lesson3"}}');var i=r(4848),t=r(8453);const o={sidebar_position:2},a="Lesson 2: ROS 2 Publisher and Subscriber",l={},c=[{value:"What is a Publisher?",id:"what-is-a-publisher",level:2},{value:"What is a Subscriber?",id:"what-is-a-subscriber",level:2},{value:"Running the Publisher and Subscriber",id:"running-the-publisher-and-subscriber",level:2},{value:"Next Steps",id:"next-steps",level:2}];function h(e){const s={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"lesson-2-ros-2-publisher-and-subscriber",children:"Lesson 2: ROS 2 Publisher and Subscriber"})}),"\n",(0,i.jsx)(s.p,{children:"In this lesson, we will learn how to create a ROS 2 publisher and subscriber. This is the most common way for nodes to communicate in ROS 2."}),"\n",(0,i.jsx)(s.h2,{id:"what-is-a-publisher",children:"What is a Publisher?"}),"\n",(0,i.jsx)(s.p,{children:"A publisher is a node that sends messages to a topic. Any node that is subscribed to that topic will receive the messages. Publishing is a useful way to broadcast information to any interested nodes in the system."}),"\n",(0,i.jsx)(s.p,{children:"Here is an example of how to create a simple publisher in Python:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String\r\n\r\nclass MyPublisher(Node):\r\n    def __init__(self):\r\n        super().__init__('my_publisher')\r\n        self.publisher_ = self.create_publisher(String, 'my_topic', 10)\r\n        timer_period = 0.5  # seconds\r\n        self.timer = self.create_timer(timer_period, self.timer_callback)\r\n        self.i = 0\r\n\r\n    def timer_callback(self):\r\n        msg = String()\r\n        msg.data = 'Hello World: %d' % self.i\r\n        self.publisher_.publish(msg)\r\n        self.get_logger().info('Publishing: \"%s\"' % msg.data)\r\n        self.i += 1\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    my_publisher = MyPublisher()\r\n    rclpy.spin(my_publisher)\r\n    my_publisher.destroy_node()\r\n    rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,i.jsx)(s.h2,{id:"what-is-a-subscriber",children:"What is a Subscriber?"}),"\n",(0,i.jsx)(s.p,{children:"A subscriber is a node that receives messages from a topic. When a message is published to a topic, the subscriber's callback function is executed."}),"\n",(0,i.jsx)(s.p,{children:"Here is an example of how to create a simple subscriber in Python:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String\r\n\r\nclass MySubscriber(Node):\r\n    def __init__(self):\r\n        super().__init__('my_subscriber')\r\n        self.subscription = self.create_subscription(\r\n            String,\r\n            'my_topic',\r\n            self.listener_callback,\r\n            10)\r\n        self.subscription  # prevent unused variable warning\r\n\r\n    def listener_callback(self, msg):\r\n        self.get_logger().info('I heard: \"%s\"' % msg.data)\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    my_subscriber = MySubscriber()\r\n    rclpy.spin(my_subscriber)\r\n    my_subscriber.destroy_node()\r\n    rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,i.jsx)(s.h2,{id:"running-the-publisher-and-subscriber",children:"Running the Publisher and Subscriber"}),"\n",(0,i.jsx)(s.p,{children:"To run the publisher and subscriber, you will need to have two separate terminals. In the first terminal, run the publisher:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 run my_package my_publisher_node\n"})}),"\n",(0,i.jsx)(s.p,{children:"In the second terminal, run the subscriber:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 run my_package my_subscriber_node\n"})}),"\n",(0,i.jsx)(s.p,{children:"You should see the publisher sending messages and the subscriber receiving them."}),"\n",(0,i.jsx)(s.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsx)(s.p,{children:"In the next lesson, we will learn about ROS 2 services and actions."})]})}function d(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},8453:(e,s,r)=>{r.d(s,{R:()=>o,x:()=>a});var n=r(6540);const i={},t=n.createContext(i);function o(e){const s=n.useContext(t);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),n.createElement(t.Provider,{value:s},e.children)}}}]);